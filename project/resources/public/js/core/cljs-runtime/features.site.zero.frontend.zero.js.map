{"version":3,"sources":["features/site/zero/frontend/zero.cljs"],"mappings":"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","names":["features.site.zero.frontend.zero/simple-logout","js/confirm","new-tab","js/window.open","js/window","js/setTimeout","js/window.location.href","features.site.zero.frontend.zero/routes","cljs.core.concat","features.site.homepage.routes/routes","features.site.orders.routes/routes","features.site.profile.routes/routes","features.site.zero.frontend.zero/profile-picture","vec__14041","cljs.core.nth","user","set-user","zero.frontend.react/use-state","zero.frontend.react/use-effect","app.frontend.request/pathom","response","G__14044","p1__14039#","p1__14040#","p1__14035#","p1__14036#","p1__14037#","p1__14038#","features.site.zero.frontend.zero/site-header","vec__14051","p1__14047#","p1__14048#","G__14054","p1__14045#","p1__14046#","p1__14049#","p1__14050#","features.site.zero.frontend.zero/view","router-data","cljs.core/deref","router.frontend.zero/state"],"sourcesContent":["(ns features.site.zero.frontend.zero\n  (:require\n   [app.frontend.request :as request]\n   [features.site.homepage.routes :as homepage-routes]\n   [features.site.orders.routes :as orders-routes]\n   [features.site.profile.routes :as profile-routes]\n   [router.frontend.zero :as router]\n   [zero.frontend.re-frame]\n   [zero.frontend.react :as react]))\n\n(defn simple-logout []\n  (when (js/confirm \"Are you sure you want to log out?\")\n    ;; Open Auth0 logout in background tab (clears Auth0 session)\n    (let [new-tab (js/window.open \"https://dev-me4o6oy6ayzpw476.eu.auth0.com/v2/logout?returnTo=https://localhost\" \"_blank\")]\n      (.blur new-tab)  ; Don't focus the new tab\n      (.focus js/window))  ; Keep focus on current window\n    ;; Small delay to let Auth0 logout complete, then navigate main tab\n    (js/setTimeout #(set! js/window.location.href \"/logout/customizer\") 500)))\n\n(def routes (concat\n             homepage-routes/routes\n             orders-routes/routes\n             profile-routes/routes))\n\n(defn profile-picture []\n  (let [[user set-user] (react/use-state nil)]\n    (react/use-effect\n     {:mount (fn []\n               (request/pathom\n                {:query '[:site/user-profile]\n                 :callback (fn [response]\n                            (set-user (:site/user-profile response)))}))})\n    \n    (if user\n      ;; Logged in - show profile picture\n      [:a {:href \"/profile\"\n           :style {:text-decoration \"none\"}}\n       (if (:picture_url user)\n         [:img {:src (:picture_url user)\n                :alt \"Profile\"\n                :style {:width \"40px\"\n                        :height \"40px\"\n                        :border-radius \"50%\"\n                        :border \"2px solid rgba(246, 213, 92, 0.3)\"\n                        :object-fit \"cover\"\n                        :transition \"all 0.3s ease\"}\n                :on-mouse-enter #(set! (.-style.borderColor (.-target %)) \"#f6d55c\")\n                :on-mouse-leave #(set! (.-style.borderColor (.-target %)) \"rgba(246, 213, 92, 0.3)\")}]\n         [:div {:style {:width \"40px\"\n                        :height \"40px\"\n                        :border-radius \"50%\"\n                        :background \"rgba(246, 213, 92, 0.2)\"\n                        :display \"flex\"\n                        :align-items \"center\"\n                        :justify-content \"center\"\n                        :color \"#f6d55c\"\n                        :font-size \"1.2rem\"\n                        :border \"2px solid rgba(246, 213, 92, 0.3)\"\n                        :transition \"all 0.3s ease\"}\n                :on-mouse-enter #(do\n                                  (set! (.-style.borderColor (.-target %)) \"#f6d55c\")\n                                  (set! (.-style.background (.-target %)) \"rgba(246, 213, 92, 0.3)\"))\n                :on-mouse-leave #(do\n                                  (set! (.-style.borderColor (.-target %)) \"rgba(246, 213, 92, 0.3)\")\n                                  (set! (.-style.background (.-target %)) \"rgba(246, 213, 92, 0.2)\"))}\n          [:i {:class \"fas fa-user\"}]])]\n      ;; Not logged in - show login button\n      [:a {:href \"/login/customizer\"\n           :style {:color \"#4ade80\"\n                   :text-decoration \"none\"\n                   :font-weight \"600\"\n                   :font-size \"1rem\"\n                   :padding \"0.75rem 1rem\"\n                   :border \"2px solid rgba(74, 222, 128, 0.3)\"\n                   :border-radius \"12px\"\n                   :background \"rgba(74, 222, 128, 0.1)\"\n                   :transition \"all 0.3s ease\"\n                   :display \"flex\"\n                   :align-items \"center\"\n                   :justify-content \"center\"\n                   :backdrop-filter \"blur(5px)\"\n                   :box-shadow \"0 2px 10px rgba(0, 0, 0, 0.3)\"}\n           :title \"Login\"\n           :on-mouse-enter #(do\n                             (set! (.-style.background (.-target %)) \"#4ade80\")\n                             (set! (.-style.color (.-target %)) \"#333\")\n                             (set! (.-style.transform (.-target %)) \"translateY(-2px)\")\n                             (set! (.-style.boxShadow (.-target %)) \"0 4px 15px rgba(74, 222, 128, 0.4)\"))\n           :on-mouse-leave #(do\n                             (set! (.-style.background (.-target %)) \"rgba(74, 222, 128, 0.1)\")\n                             (set! (.-style.color (.-target %)) \"#4ade80\")\n                             (set! (.-style.transform (.-target %)) \"translateY(0)\")\n                             (set! (.-style.boxShadow (.-target %)) \"0 2px 10px rgba(0, 0, 0, 0.3)\"))}\n       [:i {:class \"fas fa-sign-in-alt\"}]])))\n\n(defn site-header []\n  (let [[user set-user] (react/use-state nil)]\n    (react/use-effect\n     {:mount (fn []\n               (request/pathom\n                {:query '[:site/user-profile]\n                 :callback (fn [response]\n                            (set-user (:site/user-profile response)))}))})\n    \n    [:div {:style {:background \"linear-gradient(135deg, #333 0%, #2a2a2a 50%, #1a1a1a 100%)\"\n                   :border-bottom \"2px solid #f6d55c\"\n                   :padding \"1rem 2rem\"\n                   :display \"flex\"\n                   :align-items \"center\"\n                   :justify-content \"space-between\"\n                   :box-shadow \"0 4px 20px rgba(246, 213, 92, 0.3), 0 0 40px rgba(0, 0, 0, 0.5)\"\n                   :position \"sticky\"\n                   :top \"0\"\n                   :z-index \"1000\"\n                   :backdrop-filter \"blur(10px)\"}}\n     [:div {:style {:display \"flex\"\n                    :align-items \"center\"\n                    :gap \"1.5rem\"}}\n      [:a {:href \"/\"\n           :style {:display \"flex\"\n                   :align-items \"center\"\n                   :gap \"1rem\"\n                   :text-decoration \"none\"\n                   :cursor \"pointer\"}}\n       [:img {:src \"/logo/text-horizontal.svg\"\n              :style {:height \"45px\"\n                      :width \"auto\"}}]]]\n     [:nav {:style {:display \"flex\"\n                    :align-items \"center\"\n                    :gap \"1.5rem\"}}\n      ;; Show orders only when logged in\n      (when user\n        [:a {:href \"/orders\"\n             :style {:color \"#f6d55c\"\n                     :text-decoration \"none\"\n                     :font-weight \"600\"\n                     :font-size \"1rem\"\n                     :padding \"0.75rem 1.5rem\"\n                     :border \"2px solid rgba(246, 213, 92, 0.3)\"\n                     :border-radius \"12px\"\n                     :background \"rgba(246, 213, 92, 0.1)\"\n                     :transition \"all 0.3s ease\"\n                     :display \"flex\"\n                     :align-items \"center\"\n                     :gap \"0.5rem\"\n                     :backdrop-filter \"blur(5px)\"\n                     :box-shadow \"0 2px 10px rgba(0, 0, 0, 0.3)\"}\n             :on-mouse-enter #(do\n                               (set! (.-style.background (.-target %)) \"#f6d55c\")\n                               (set! (.-style.color (.-target %)) \"#333\")\n                               (set! (.-style.transform (.-target %)) \"translateY(-2px)\")\n                               (set! (.-style.boxShadow (.-target %)) \"0 4px 15px rgba(246, 213, 92, 0.4)\"))\n             :on-mouse-leave #(do\n                               (set! (.-style.background (.-target %)) \"rgba(246, 213, 92, 0.1)\")\n                               (set! (.-style.color (.-target %)) \"#f6d55c\")\n                               (set! (.-style.transform (.-target %)) \"translateY(0)\")\n                               (set! (.-style.boxShadow (.-target %)) \"0 2px 10px rgba(0, 0, 0, 0.3)\"))}\n         [:i {:class \"fas fa-box\"}] \"Orders\"])\n      [:a {:href \"/customize\"\n           :style {:color \"#10b981\"\n                   :text-decoration \"none\"\n                   :font-weight \"600\"\n                   :font-size \"1rem\"\n                   :padding \"0.75rem 1.5rem\"\n                   :border \"2px solid rgba(16, 185, 129, 0.3)\"\n                   :border-radius \"12px\"\n                   :background \"rgba(16, 185, 129, 0.1)\"\n                   :transition \"all 0.3s ease\"\n                   :display \"flex\"\n                   :align-items \"center\"\n                   :gap \"0.5rem\"\n                   :backdrop-filter \"blur(5px)\"\n                   :box-shadow \"0 2px 10px rgba(0, 0, 0, 0.3)\"}\n           :on-mouse-enter #(do\n                             (set! (.-style.background (.-target %)) \"#10b981\")\n                             (set! (.-style.color (.-target %)) \"#333\")\n                             (set! (.-style.transform (.-target %)) \"translateY(-2px)\")\n                             (set! (.-style.boxShadow (.-target %)) \"0 4px 15px rgba(16, 185, 129, 0.4)\"))\n           :on-mouse-leave #(do\n                             (set! (.-style.background (.-target %)) \"rgba(16, 185, 129, 0.1)\")\n                             (set! (.-style.color (.-target %)) \"#10b981\")\n                             (set! (.-style.transform (.-target %)) \"translateY(0)\")\n                             (set! (.-style.boxShadow (.-target %)) \"0 2px 10px rgba(0, 0, 0, 0.3)\"))}\n       [:i {:class \"fas fa-palette\"}] \"Customizer\"]\n      [profile-picture]\n      ;; Show logout button when logged in\n      (when user\n        [:button {:style {:color \"#ff6b6b\"\n                          :text-decoration \"none\"\n                          :font-weight \"600\"\n                          :font-size \"1rem\"\n                          :padding \"0.75rem 1rem\"\n                          :border \"2px solid rgba(255, 107, 107, 0.3)\"\n                          :border-radius \"12px\"\n                          :background \"rgba(255, 107, 107, 0.1)\"\n                          :transition \"all 0.3s ease\"\n                          :display \"flex\"\n                          :align-items \"center\"\n                          :justify-content \"center\"\n                          :backdrop-filter \"blur(5px)\"\n                          :box-shadow \"0 2px 10px rgba(0, 0, 0, 0.3)\"\n                          :cursor \"pointer\"}\n                  :title \"Logout\"\n                  :on-mouse-enter #(do\n                                    (set! (.-style.background (.-target %)) \"#ff6b6b\")\n                                    (set! (.-style.color (.-target %)) \"#333\")\n                                    (set! (.-style.transform (.-target %)) \"translateY(-2px)\")\n                                    (set! (.-style.boxShadow (.-target %)) \"0 4px 15px rgba(255, 107, 107, 0.4)\"))\n                  :on-mouse-leave #(do\n                                    (set! (.-style.background (.-target %)) \"rgba(255, 107, 107, 0.1)\")\n                                    (set! (.-style.color (.-target %)) \"#ff6b6b\")\n                                    (set! (.-style.transform (.-target %)) \"translateY(0)\")\n                                    (set! (.-style.boxShadow (.-target %)) \"0 2px 10px rgba(0, 0, 0, 0.3)\"))\n                  :on-click simple-logout}\n         [:i {:class \"fas fa-sign-out-alt\"}]])]]))\n\n(defn view []\n  (let [router-data (:data @router/state)]\n    [:div\n     [site-header]\n     [:div {:style {:min-height \"calc(100vh - 80px)\"}}\n      [(:view router-data)]]]))\n"]}