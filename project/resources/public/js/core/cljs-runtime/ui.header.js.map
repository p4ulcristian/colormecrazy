{"version":3,"sources":["ui/header.cljs"],"mappings":"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","names":["G__39966","G__39967","zero.frontend.re-frame/reg-event-db","p__39968","vec__39969","cljs.core.nth","db","_","language","cljs.core.println","updated-db","cljs.core/assoc-in","cljs.core.get_in","G__39972","G__39973","zero.frontend.re-frame/reg-sub","current-lang","G__39974","G__39975","p__39976","vec__39977","theme","G__39980","G__39981","current-theme","G__39982","zero.frontend.re-frame/dispatch","G__39983","ui.header/get-workspace-id","cljs.core/deref","router.frontend.zero/state","ui.header/handle-logo-click","temp__5823__auto__","workspace-id","router.frontend.zero/navigate!","ui.header/handle-language-toggle","current-language","new-language","cljs.core._EQ_","G__39984","ui.header/handle-theme-toggle","new-theme","G__39985","ui.header/language-toggle","G__39986","zero.frontend.re-frame/subscribe","ui.button/view","ui.header/theme-toggle","G__39987","ui.header/header","translations.core/tr","ui.header/view"],"sourcesContent":["(ns ui.header\n  (:require\n   [ui.button :as button]\n   [zero.frontend.re-frame :as rf]\n   [parquery.frontend.request :as parquery]\n   [router.frontend.zero :as router]\n   [translations.core :as tr]))\n\n;; Re-frame events and subscriptions\n(rf/reg-event-db\n :header/set-language\n (fn [db [_ language]]\n   (println \"DEBUG: re-frame event :header/set-language called with:\" language)\n   (let [updated-db (assoc-in db [:header :language] language)]\n     (println \"DEBUG: Updated db header section:\" (get-in updated-db [:header]))\n     updated-db)))\n\n(rf/reg-sub\n :header/current-language\n (fn [db _]\n   (let [current-lang (get-in db [:header :language] :hu)]\n     (println \"DEBUG: subscription :header/current-language returning:\" current-lang)\n     current-lang)))\n\n;; Theme management\n(rf/reg-event-db\n :header/set-theme\n (fn [db [_ theme]]\n   (println \"DEBUG: re-frame event :header/set-theme called with:\" theme)\n   (let [updated-db (assoc-in db [:header :theme] theme)]\n     (println \"DEBUG: Updated db header theme:\" (get-in updated-db [:header :theme]))\n     updated-db)))\n\n(rf/reg-sub\n :header/current-theme\n (fn [db _]\n   (let [current-theme (get-in db [:header :theme] :light)]\n     (println \"DEBUG: subscription :header/current-theme returning:\" current-theme)\n     current-theme)))\n\n;; Initialize defaults\n(rf/dispatch [:header/set-language :hu])\n(rf/dispatch [:header/set-theme :light])\n\n;; Navigation helpers\n(defn- get-workspace-id []\n  \"Get workspace ID from router parameters\"\n  (get-in @router/state [:parameters :path :workspace-id]))\n\n(defn handle-logo-click []\n  \"Navigate to workspace dashboard when logo/title is clicked\"\n  (when-let [workspace-id (get-workspace-id)]\n    (router/navigate! {:path (str \"/app/\" workspace-id)})))\n\n;; Event handlers\n(defn handle-language-toggle [current-language]\n  \"Toggle language between en and hu\"\n  (let [new-language (if (= current-language :en) :hu :en)]\n    (println \"DEBUG: Toggling language from\" current-language \"to\" new-language)\n    (rf/dispatch [:header/set-language new-language])\n    (println \"DEBUG: Dispatched event\")))\n\n(defn handle-theme-toggle [current-theme]\n  \"Toggle theme between light and dark\"\n  (let [new-theme (if (= current-theme :light) :dark :light)]\n    (println \"DEBUG: Toggling theme from\" current-theme \"to\" new-theme)\n    (rf/dispatch [:header/set-theme new-theme])\n    (println \"DEBUG: Dispatched theme event\")))\n\n(defn language-toggle\n  \"Language toggle between English and Hungarian\"\n  []\n  (let [current-language (rf/subscribe [:header/current-language])]\n    [:div.language-toggle\n     [button/view\n      {:type :secondary\n       :class \"language-toggle-btn\"\n       :on-click #(handle-language-toggle @current-language)}\n      (if (= @current-language :en) \"EN\" \"HU\")]]))\n\n(defn theme-toggle\n  \"Theme toggle between light and dark mode\"\n  []\n  (let [current-theme (rf/subscribe [:header/current-theme])]\n    [:div.theme-toggle\n     [button/view\n      {:type :secondary\n       :class \"theme-toggle-btn\"\n       :on-click #(handle-theme-toggle @current-theme)}\n      (if (= @current-theme :light) \"\ud83c\udf19\" \"\u2600\ufe0f\")]]))\n\n(defn header\n  \"Main application header with logo, language toggle, and logout button\"\n  []\n  [:header.app-header\n   [:div.header-content\n    [:div.header-left\n     {:on-click handle-logo-click\n      :style {:cursor \"pointer\" :display \"flex\" :align-items \"center\"}}\n     [:img.logo {:src \"/logo/logo-256.webp\" :alt \"Logo\"}]\n     [:span.brand-name (tr/tr :header/brand)]]\n    [:div.header-right\n     [theme-toggle]\n     [language-toggle]]]])\n\n(defn view\n  \"Header component view function\"\n  []\n  [header])"]}