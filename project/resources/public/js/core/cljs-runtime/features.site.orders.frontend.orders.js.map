{"version":3,"sources":["features/site/orders/frontend/orders.cljs"],"mappings":"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","names":["features.site.orders.frontend.orders/status-badge","status","G__14043","features.site.orders.frontend.orders/payment-status-badge","payment-status","G__14044","G__14045","or__5025__auto__","features.site.orders.frontend.orders/urgency-badge","urgency","G__14046","G__14047","features.site.orders.frontend.orders/source-badge","source","G__14048","G__14049","features.site.orders.frontend.orders/format-date","date-str","date","js/Date","features.site.orders.frontend.orders/get-friendly-status-message","cljs.core._EQ_","G__14050","features.site.orders.frontend.orders/compact-job-item","job","features.site.orders.frontend.orders/compact-jobs-display","jobs","and__5023__auto__","cljs.core/seq","cljs.core.map_indexed","idx","features.site.orders.frontend.orders/order-card","order","show-payment-modal","router.frontend.zero/navigate!","cljs.core.subs","e","features.site.orders.frontend.orders/view","vec__14051","cljs.core.nth","vec__14054","vec__14057","vec__14060","vec__14063","orders","set-orders","zero.frontend.react/use-state","loading","set-loading","selected-order","set-selected-order","show-payment","set-show-payment","user-id","set-user-id","zero.frontend.react/use-effect","cljs.core/deref","cljs.core.println","re_frame.core.subscribe","app.frontend.request/pathom","response","G__14066","G__14067","cljs.core/empty?","cljs.core/count","cljs.core.not_EQ_"],"sourcesContent":["(ns features.site.orders.frontend.orders\n  (:require\n   [re-frame.core :as r]\n   [app.frontend.request :as request]\n   [zero.frontend.react :as react]\n   [router.frontend.zero :as router]))\n\n(defn status-badge [status]\n  [:span {:style {:padding \"0.5rem 1rem\"\n                  :border-radius \"9999px\"\n                  :font-size \"0.875rem\"\n                  :font-weight \"600\"\n                  :text-transform \"uppercase\"\n                  :letter-spacing \"0.05em\"\n                  :background (case status\n                                \"sent-to-customer\" \"#10b981\"\n                                \"waiting-to-start\" \"#f59e0b\"\n                                \"parts-inspected\" \"#3b82f6\"\n                                \"in-progress\" \"#8b5cf6\"\n                                \"completed\" \"#10b981\"\n                                \"cancelled\" \"#ef4444\"\n                                \"#6b7280\")\n                  :color \"#ffffff\"}}\n   status])\n\n(defn payment-status-badge [payment-status]\n  [:span {:style {:padding \"0.25rem 0.75rem\"\n                  :border-radius \"6px\"\n                  :font-size \"0.75rem\"\n                  :font-weight \"500\"\n                  :background (case payment-status\n                                \"paid\" \"#dcfce7\"\n                                \"pending\" \"#fef3c7\"\n                                \"failed\" \"#fecaca\"\n                                \"unpaid\" \"#f3f4f6\"\n                                \"#f3f4f6\")\n                  :color (case payment-status\n                           \"paid\" \"#166534\"\n                           \"pending\" \"#d97706\"\n                           \"failed\" \"#dc2626\"\n                           \"unpaid\" \"#6b7280\"\n                           \"#6b7280\")}}\n   (or payment-status \"unpaid\")])\n\n(defn urgency-badge [urgency]\n  [:span {:style {:padding \"0.25rem 0.75rem\"\n                  :border-radius \"6px\"\n                  :font-size \"0.75rem\"\n                  :font-weight \"500\"\n                  :background (case urgency\n                                \"rush\" \"#fef2f2\"\n                                \"high\" \"#fff7ed\"\n                                \"normal\" \"#f0f9ff\"\n                                \"low\" \"#f9fafb\"\n                                \"#f9fafb\")\n                  :color (case urgency\n                           \"rush\" \"#dc2626\"\n                           \"high\" \"#ea580c\"\n                           \"normal\" \"#0369a1\"\n                           \"low\" \"#6b7280\"\n                           \"#6b7280\")}}\n   urgency])\n\n(defn source-badge [source]\n  [:span {:style {:padding \"0.25rem 0.75rem\"\n                  :border-radius \"6px\"\n                  :font-size \"0.75rem\"\n                  :font-weight \"500\"\n                  :background (case source\n                                \"website\" \"#f0f9ff\"\n                                \"phone\" \"#fef2f2\"\n                                \"email\" \"#f0fdf4\"\n                                \"#f9fafb\")\n                  :color (case source\n                           \"website\" \"#0369a1\"\n                           \"phone\" \"#dc2626\"\n                           \"email\" \"#16a34a\"\n                           \"#6b7280\")}}\n   source])\n\n(defn format-date [date-str]\n  (when date-str\n    (let [date (js/Date. date-str)]\n      (.toLocaleDateString date \"en-US\" #js {:year \"numeric\"\n                                            :month \"short\"\n                                            :day \"numeric\"}))))\n\n(defn get-friendly-status-message [status payment-status]\n  (cond\n    (= payment-status \"paid\")\n    (case status\n      \"order-submitted\" \"\ud83c\udf89 Payment received! We're reviewing your order\"\n      \"package-arrived\" \"\ud83d\udce6 Your parts have arrived and look great!\"\n      \"parts-inspected\" \"\ud83d\udd0d Parts inspected - everything looks perfect!\"\n      \"waiting-to-start\" \"\u23f3 In queue - we'll start working on this soon\"\n      \"process-planning\" \"\ud83d\udccb Our team is planning the perfect finish\"\n      \"in-progress\" \"\ud83d\ude80 Currently being worked on with care\"\n      \"job-complete\" \"\u2705 Finished! Your parts look amazing\"\n      \"packing\" \"\ud83d\udce6 Carefully packing your beautiful parts\"\n      \"sent-to-customer\" \"\ud83d\ude9a On the way to you!\"\n      \"arrived-at-customer\" \"\ud83c\udf81 Delivered! Hope you love them\"\n      \"Processing your order with care\")\n    \n    (= payment-status \"unpaid\")\n    \"\ud83d\udcb0 Ready to pay and get started\"\n    \n    (= payment-status \"failed\")\n    \"\ud83d\udcb3 Payment issue - but we're here to help!\"\n    \n    :else \"Working on your order\"))\n\n(defn compact-job-item [job]\n  [:div {:style {:display \"flex\"\n                 :align-items \"center\"\n                 :gap \"8px\"\n                 :margin-bottom \"4px\"}}\n   ;; Part image\n   [:div {:style {:flex-shrink 0}}\n    (if (:part_picture_url job)\n      [:img {:src (:part_picture_url job)\n             :alt (:part_name job)\n             :style {:width \"32px\"\n                     :height \"32px\"\n                     :object-fit \"cover\"\n                     :border-radius \"4px\"\n                     :border \"1px solid #e5e7eb\"}}]\n      [:div {:style {:width \"32px\"\n                     :height \"32px\"\n                     :background \"#f3f4f6\"\n                     :border-radius \"4px\"\n                     :display \"flex\"\n                     :align-items \"center\"\n                     :justify-content \"center\"\n                     :color \"#9ca3af\"\n                     :font-size \"1rem\"}}\n       \"\ud83d\udce6\"])]\n   \n   ;; Part details\n   [:div {:style {:flex 1\n                  :min-width 0}}\n    [:div {:style {:font-size \"0.875rem\"\n                   :font-weight \"500\"\n                   :color \"#374151\"\n                   :white-space \"nowrap\"\n                   :overflow \"hidden\"\n                   :text-overflow \"ellipsis\"}}\n     (str (:part_name job) \" \u00d7 \" (:quantity job))]\n    (when (:look_name job)\n      [:div {:style {:font-size \"0.75rem\"\n                     :color \"#6b7280\"\n                     :white-space \"nowrap\"\n                     :overflow \"hidden\"\n                     :text-overflow \"ellipsis\"}}\n       (:look_name job)])]\n   \n   ;; Look thumbnail\n   (when (:look_thumbnail job)\n     [:img {:src (:look_thumbnail job)\n            :alt (:look_name job)\n            :style {:width \"20px\"\n                    :height \"20px\"\n                    :border-radius \"3px\"\n                    :border \"1px solid #e5e7eb\"\n                    :flex-shrink 0}}])])\n\n(defn compact-jobs-display [jobs]\n  (when (and jobs (seq jobs))\n    [:div {:style {:margin-top \"8px\"\n                   :padding-top \"8px\"\n                   :border-top \"1px solid #f3f4f6\"}}\n     [:div {:style {:font-size \"0.75rem\"\n                    :color \"#6b7280\"\n                    :margin-bottom \"6px\"\n                    :font-weight \"500\"}}\n      \"\u2728 Your beautiful parts:\"]\n     [:div {:style {:max-height \"120px\"\n                    :overflow-y \"auto\"}}\n      (map-indexed \n       (fn [idx job]\n         ^{:key (str (:job_id job) \"-compact-\" idx)}\n         [compact-job-item job])\n       jobs)]]))\n\n(defn order-card [order show-payment-modal]\n  [:div {:style {:background \"#ffffff\"\n                 :border \"1px solid #e5e7eb\"\n                 :border-radius \"12px\"\n                 :padding \"1.5rem\"\n                 :margin-bottom \"1rem\"\n                 :box-shadow \"0 1px 3px rgba(0, 0, 0, 0.1)\"\n                 :transition \"box-shadow 0.2s ease\"\n                 :cursor \"pointer\"}\n         :on-click #(router/navigate! {:path (str \"/orders/\" (:id order))})}\n   [:div {:style {:display \"flex\"\n                  :justify-content \"space-between\"\n                  :align-items \"flex-start\"\n                  :margin-bottom \"1rem\"}}\n    [:div\n     [:h3 {:style {:font-size \"1.125rem\"\n                   :font-weight \"600\"\n                   :color \"#1f2937\"\n                   :margin-bottom \"0.25rem\"}} \n      (str \"Order #\" (subs (:id order) 0 8))]\n     [:p {:style {:font-size \"0.875rem\"\n                  :color \"#6b7280\"}}\n      (str \"Created: \" (format-date (:created_at order)))]\n     [:div {:style {:margin-top \"4px\"\n                    :padding \"4px 8px\"\n                    :background \"#f0f9ff\"\n                    :border-radius \"6px\"\n                    :border-left \"3px solid #10b981\"}}\n      [:p {:style {:font-size \"0.8rem\"\n                   :color \"#059669\"\n                   :margin 0\n                   :font-weight \"500\"}}\n       (get-friendly-status-message (:status order) (:payment_status order))]]]\n    [:div {:style {:display \"flex\"\n                   :align-items \"center\"\n                   :gap \"12px\"}}\n     \n     ;; Show Pay Now button for unpaid orders\n     (when (= (:payment_status order \"unpaid\") \"unpaid\")\n       [:button {:style {:background \"linear-gradient(135deg, #10b981 0%, #059669 100%)\"\n                         :color \"white\"\n                         :border \"none\"\n                         :border-radius \"6px\"\n                         :padding \"8px 16px\"\n                         :font-size \"0.8rem\"\n                         :font-weight \"600\"\n                         :cursor \"pointer\"\n                         :transition \"all 0.2s ease\"\n                         :box-shadow \"0 2px 8px rgba(16, 185, 129, 0.3)\"}\n                 :on-click (fn [e]\n                            (.stopPropagation ^js e)\n                            (show-payment-modal order))}\n        \"\u2728 Complete Payment\"])]]\n   \n   [:div {:style {:display \"flex\"\n                  :flex-wrap \"wrap\"\n                  :gap \"0.75rem\"\n                  :margin-bottom \"1rem\"}}\n    [:div {:style {:display \"flex\"\n                   :align-items \"center\"\n                   :gap \"0.5rem\"}}\n     [:span {:style {:font-size \"0.875rem\"\n                     :color \"#374151\"\n                     :font-weight \"500\"}} \"Status:\"]\n     [status-badge (:status order)]]\n    \n    [:div {:style {:display \"flex\"\n                   :align-items \"center\"\n                   :gap \"0.5rem\"}}\n     [:span {:style {:font-size \"0.875rem\"\n                     :color \"#374151\"\n                     :font-weight \"500\"}} \"Payment:\"]\n     [payment-status-badge (:payment_status order)]]\n    \n    [:div {:style {:display \"flex\"\n                   :align-items \"center\"\n                   :gap \"0.5rem\"}}\n     [:span {:style {:font-size \"0.875rem\"\n                     :color \"#374151\"\n                     :font-weight \"500\"}} \"Urgency:\"]\n     [urgency-badge (:urgency order)]]\n    \n    [:div {:style {:display \"flex\"\n                   :align-items \"center\"\n                   :gap \"0.5rem\"}}\n     [:span {:style {:font-size \"0.875rem\"\n                     :color \"#374151\"\n                     :font-weight \"500\"}} \"Source:\"]\n     [source-badge (:source order)]]]\n   \n   [:div {:style {:border-top \"1px solid #e5e7eb\"\n                  :padding-top \"1rem\"}}\n    [:div {:style {:display \"flex\"\n                   :justify-content \"space-between\"\n                   :align-items \"center\"}}\n     [:div {:style {:font-size \"0.875rem\"\n                    :color \"#6b7280\"}}\n      (str \"Due: \" (format-date (:due_date order)))]\n     [:div {:style {:text-align \"right\"}}\n      [:div {:style {:font-size \"1.1rem\"\n                     :font-weight \"700\"\n                     :color \"#1f2937\"}}\n       (str \"$\" (:total_amount order))]\n      [:div {:style {:font-size \"0.75rem\"\n                     :color \"#6b7280\"}}\n       \"USD\"]]]\n    \n    ;; Parts and colors compact display\n    [compact-jobs-display (:jobs order)]]])\n\n(defn view []\n  (let [[orders set-orders] (react/use-state nil)\n        [loading set-loading] (react/use-state false)\n        [selected-order set-selected-order] (react/use-state nil)\n        [show-payment set-show-payment] (react/use-state false)\n        [user-id set-user-id] (react/use-state nil)]\n    \n    (react/use-effect\n     {:mount (fn []\n               (set-loading true)\n               (println \"user-id\" @(r/subscribe [:db/get-in [:router]]))\n               (request/pathom\n                {:query '[:site/user-orders  :site/user-id]\n                 :callback (fn [response]\n                             (set-loading false)\n                             (set-orders (:site/user-orders  response))\n                             (set-user-id (:site/user-id response)))}))})\n    \n    [:div {:style {:min-height \"100vh\"\n                   :background \"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)\"\n                   :padding \"2rem\"}}\n     [:div {:style {:max-width \"800px\"\n                    :margin \"0 auto\"}}\n      [:div {:style {:text-align \"center\"\n                     :margin-bottom \"2.5rem\"}}\n       [:h1 {:style {:font-size \"2.8rem\"\n                     :font-weight \"700\"\n                     :color \"#1f2937\"\n                     :margin-bottom \"0.75rem\"\n                     :line-height \"1.1\"}} \n        \"\ud83d\udc4b Hi there!\"]\n       [:p {:style {:font-size \"1.3rem\"\n                    :color \"#4b5563\"\n                    :margin-bottom \"0.5rem\"\n                    :font-weight \"500\"}} \n        \"Here are your orders\"]\n       [:p {:style {:font-size \"1rem\"\n                    :color \"#6b7280\"\n                    :margin-bottom \"0\"}} \n        \"We're working hard to make your parts look amazing! \u2728\"]]\n      \n      (cond\n        loading \n        [:div {:style {:display \"flex\"\n                       :flex-direction \"column\"\n                       :justify-content \"center\"\n                       :align-items \"center\"\n                       :padding \"4rem\"\n                       :background \"#ffffff\"\n                       :border-radius \"16px\"\n                       :border \"1px solid #e5e7eb\"\n                       :box-shadow \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\"}}\n         [:div {:style {:font-size \"3rem\"\n                        :margin-bottom \"1rem\"\n                        :animation \"pulse 2s infinite\"}} \"\u23f3\"]\n         [:div {:style {:font-size \"1.2rem\"\n                        :color \"#4b5563\"\n                        :font-weight \"500\"}} \"Loading your orders...\"]\n         [:div {:style {:font-size \"0.9rem\"\n                        :color \"#6b7280\"\n                        :margin-top \"0.5rem\"}} \"Just a moment while we gather everything!\"]]\n        \n        (empty? orders)\n        [:div {:style {:text-align \"center\"\n                       :padding \"4rem 3rem\"\n                       :background \"#ffffff\"\n                       :border-radius \"16px\"\n                       :border \"1px solid #e5e7eb\"\n                       :box-shadow \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\"}}\n         [:div {:style {:font-size \"4rem\"\n                        :margin-bottom \"1.5rem\"}} \"\ud83d\ude80\"]\n         [:h3 {:style {:font-size \"1.5rem\"\n                       :font-weight \"600\"\n                       :color \"#1f2937\"\n                       :margin-bottom \"0.75rem\"}} \"Ready to get started?\"]\n         [:p {:style {:color \"#6b7280\"\n                      :font-size \"1.1rem\"\n                      :line-height \"1.6\"\n                      :margin-bottom \"2rem\"\n                      :max-width \"400px\"\n                      :margin-left \"auto\"\n                      :margin-right \"auto\"}} \n          \"Your first order will appear here once you place it. We can't wait to help bring your ideas to life! \ud83d\udcab\"]\n         [:div {:style {:display \"flex\"\n                        :justify-content \"center\"\n                        :gap \"0.5rem\"\n                        :color \"#10b981\"\n                        :font-size \"0.9rem\"\n                        :font-weight \"500\"}}\n          [:span \"\ud83d\udca1\"] [:span \"Browse parts\"] [:span \"\u2192\"] [:span \"Customize\"] [:span \"\u2192\"] [:span \"Order\"] [:span \"\u2192\"] [:span \"Amazing results!\"]]]\n        \n        :else\n        [:div\n         [:div {:style {:margin-bottom \"1.5rem\"\n                        :text-align \"center\"}}\n          [:h2 {:style {:font-size \"1.4rem\"\n                        :font-weight \"600\"\n                        :color \"#374151\"\n                        :margin-bottom \"0.5rem\"}}\n           (str \"\ud83c\udf89 You have \" (count orders) \" order\" (when (not= (count orders) 1) \"s\") \"!\")]\n          [:p {:style {:font-size \"0.95rem\"\n                       :color \"#6b7280\"}}\n           \"Click on any order to see all the details and track progress\"]]\n         \n         (map-indexed \n          (fn [idx order]\n            ^{:key (str (:id order) \"-\" idx)}\n            [order-card order (fn [order]\n                                (set-selected-order order)\n                                (set-show-payment true))])\n          orders)])\n      \n      ;; Payment functionality removed\n      ]])) "]}